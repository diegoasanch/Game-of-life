(this.webpackJsonpgame_of_life=this.webpackJsonpgame_of_life||[]).push([[0],{143:function(e,n,t){},174:function(e,n,t){"use strict";t.r(n);var a,r,c,o,i,l,s,d,b,u,h,j,g,m,O,p,f,x,v,w,y,k,C,S,B,N,D,_,I,F,T,E,P,A=t(0),L=t.n(A),R=t(21),H=t.n(R),z=(t(143),t(144),t(145),t(23)),K=t(8),G=t(7),q=t(187),J=t(16),M=t(46),V=t(88),U=t(95),W=t(11),Y=t(188),Q={background:"#2F3437",text:"#EBEBEB",sidebar:"#151515",cellBorder:"#000000",cellAlive:"#0E0F1E",cellDead:"#586268",cellHover:"#48AFF0",header:"#19A6FF",scrollBarBg:"#4F585D",scrollBarThumb:"#2F3437",scrollBarThumbHover:"#1C1F21",highlightTransparency:"77"},X={background:"#EBEBEB",text:"#37352F",sidebar:"#FFFFFF",cellBorder:"#343434",cellAlive:"#0E0F10",cellDead:"#EEEEEE",cellHover:"#48AFF0",header:"#19A6FF",scrollBarBg:"#B7B7B7",scrollBarThumb:"#888888",scrollBarThumbHover:"#212121",highlightTransparency:"99"},Z=t(3),$=function(e){var n=Object(A.createContext)({});return[function(t){var a=t.children,r=e();return Object(Z.jsx)(n.Provider,{value:r,children:a})},function(){return Object(A.useContext)(n)},n]},ee=$((function(){var e=Object(Y.a)("isDark",!0),n=Object(W.a)(e,2),t=n[0],a=n[1],r=Object(A.useState)(Q),c=Object(W.a)(r,2),o=c[0],i=c[1],l=Object(A.useCallback)((function(){console.log("Toggle theme"),i(t?X:Q),a(!t)}),[a,t,i]);return{theme:o,isDark:!!t,toggleTheme:l}})),ne=Object(W.a)(ee,2),te=ne[0],ae=ne[1],re=Object(G.b)(q.i)(a||(a=Object(K.a)(["\n    font-size: 3.5em !important;\n    line-height: .9em !important;\n    font-weight: bold;\n    align-self: flex-start;\n"]))),ce=G.b.header(r||(r=Object(K.a)(["\n    position: relative;\n    width: 100%;\n"]))),oe=Object(G.b)(q.x)(c||(c=Object(K.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n"]))),ie=Object(G.b)(q.l)(o||(o=Object(K.a)(["\n    display: inline-block;\n    vertical-align: super;\n    margin-left: .2em;\n"]))),le=function(){var e=ae(),n=e.isDark,t=e.toggleTheme;return Object(Z.jsxs)(ce,{children:[Object(Z.jsx)(U.a,{content:de,position:J.a.RIGHT,children:Object(Z.jsxs)(re,{children:["Game ",Object(Z.jsx)("br",{}),"of ",Object(Z.jsx)("br",{}),"Life",Object(Z.jsx)(ie,{icon:"info-sign",intent:"primary"})]})}),Object(Z.jsx)(oe,{alignIndicator:M.a.RIGHT,checked:n,onChange:t,innerLabel:"light",innerLabelChecked:"dark",large:!0})]})},se=G.b.div(i||(i=Object(K.a)(["\n    width: 40vw;\n    max-width: 1000px;\n    min-width: 500px;\n    padding: 1em;\n"]))),de=Object(Z.jsxs)(se,{children:[Object(Z.jsxs)("h1",{children:["Conway's Game of Life ",Object(Z.jsxs)("span",{className:"bp3-text-muted",children:[" - v",V.version]})]}),Object(Z.jsxs)("p",{children:["\u2003 Is a ",Object(Z.jsx)("strong",{children:"cellular automaton"})," devised by the British mathematician John Horton Conway in 1970. It is a zero-player game, meaning that its evolution is determined by its initial state, requiring no further input.",Object(Z.jsx)("br",{}),"\u2003 One interacts with the Game of Life by creating an initial configuration and observing how it evolves."]}),Object(Z.jsx)("h2",{children:"How to play?"}),Object(Z.jsxs)("p",{children:["\u2003 Click on a cell to change its state. Change as many cells as you want and press ",Object(Z.jsxs)("strong",{children:[Object(Z.jsx)(q.l,{icon:"play"})," Play"]}),"!",Object(Z.jsx)("br",{}),"\u2003 Alternatively, click the ",Object(Z.jsxs)("strong",{children:[Object(Z.jsx)(q.l,{icon:"step-forward"})," Step by step "]}),"button to evolve the board one cycle at a time."]}),Object(Z.jsx)("h2",{children:"Rules"}),Object(Z.jsxs)("ul",{children:[Object(Z.jsx)("li",{children:"Any live cell with fewer than two live neighbours dies, as if by underpopulation."}),Object(Z.jsx)("li",{children:"Any live cell with two or three live neighbours lives on to the next generation."}),Object(Z.jsx)("li",{children:"Any live cell with more than three live neighbours dies, as if by overpopulation."}),Object(Z.jsx)("li",{children:"Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction."})]})]}),be=t(184),ue=function(e,n,t){var a=e.length,r=e[0].length,c=e[n][t],o=n-1,i=n+1,l=t-1,s=t+1,d=s<r,b=i<a,u=o>=0,h=l>=0,j=(h&&u?Number(e[o][l].alive):0)+(u?Number(e[o][t].alive):0)+(d&&u?Number(e[o][s].alive):0)+(h?Number(e[n][l].alive):0)+(d?Number(e[n][s].alive):0)+(h&&b?Number(e[i][l].alive):0)+(b?Number(e[i][t].alive):0)+(b&&d?Number(e[i][s].alive):0);return 3===j||c.alive&&2===j},he=function(e){return JSON.parse(JSON.stringify(e))},je="\n0000000000000000000000000100000000000000\n0000000000000000000000000000000100000000\n0000000000100000000000010000000100000000\n0001100011000000100000000000000100000110\n0000100001000000010000000000000000000010\n0000000000000000001000000000000000000000\n0000000000000000000000000000000000000000\n0000000000000000000000000000000001000000\n0000000000000000000000000010000000000000\n0000000000000000000000000000000000000000\n0000000000000000011000110000000000000000\n0000000000000000111101111000000000000000\n0001100000000001111111111100000000000000\n0011000000000001111111111100000000000000\n0010000000000000111111111000000011000001\n0000000000000000011111110000000000000000\n0000100001000000001111100000000000000010\n0000100001001000000111000000000000000010\n0000100001011100000010000000000000000010\n0000000000110000000000000000000000000000\n0000000000000000000000000000000000000000\n0000000000000000000000000000000000000000\n0000000000000000000000000010000000000000\n0000000000000000000000000111000000000000\n0000000000000000000000000010000100000000\n0000011100001110000000000000000010000000\n0000000000000010000000000000000001000000\n0000000000000000000000000000000000000000\n0000000000000000000000110000000011000000\n1000010000000000000000100000000001100000\n",ge=function(e,n,t,a){for(var r,c,o=[],i=0;i<e;i++){r=[];for(var l=0;l<n;l++)c=t?!!Math.round(Math.random()):!!(null===a||void 0===a?void 0:a.length)&&!!parseInt(a[i*n+l]),r.push({alive:c,age:0,row:i,column:l});o.push(r)}return o},me=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=je.replaceAll("\n","");return a?ge(e,n,t,r):ge(e,n,t)},Oe=function(e){return"saved/".concat(e.replaceAll(" ","_"))},pe=function(e){return new Promise((function(n,t){if(window.localStorage.hasOwnProperty(Oe(e))){var a,r,c,o,i,l,s,d,b;console.log("Getting ".concat(e," board from localstorage"));var u=null!==(a=window.localStorage.getItem(Oe(e)))&&void 0!==a?a:"{}",h=JSON.parse(u);return n({name:null!==(r=h.name)&&void 0!==r?r:"undefined",created:null!==(c=h.created)&&void 0!==c?c:new Date,edited:null!==(o=h.edited)&&void 0!==o?o:new Date,board_content:null!==(i=h.board_content)&&void 0!==i?i:[[]],rows:null!==(l=null===(s=h.board_content)||void 0===s?void 0:s.length)&&void 0!==l?l:0,cols:null!==(d=null===(b=h.board_content[0])||void 0===b?void 0:b.length)&&void 0!==d?d:0})}return n(void 0)}))},fe=q.y.create({className:"recipe-toaster",position:J.a.TOP}),xe=function(e,n){fe.show({message:e,intent:n})},ve=t(97),we=t(98),ye=function(){function e(n,t,a){var r,c,o;(Object(ve.a)(this,e),this.name="",this.created=new Date,this.edited=new Date,this.board_content=[[]],this.rows=0,this.cols=0,n)?(console.log("Creating board from: ".concat(n)),this.name=null!==(r=n.name)&&void 0!==r?r:"undefined",this.created=null!==(c=n.created)&&void 0!==c?c:new Date,this.edited=null!==(o=n.edited)&&void 0!==o?o:new Date,this.board_content=n.board_content):t&&(this.name=null!==a&&void 0!==a?a:"untitled_board",this.created=new Date,this.edited=new Date,this.board_content=t);this.rows=this.getRows(),this.cols=this.getCols()}return Object(we.a)(e,[{key:"getRows",value:function(){return this.board_content.length}},{key:"getCols",value:function(){var e,n;return null!==(e=null===(n=this.board_content[0])||void 0===n?void 0:n.length)&&void 0!==e?e:0}}]),e}(),ke=t(18),Ce=t(52),Se=function(e){var n=function(e){for(var n="",t="",a=0;a<e.length;a+=8)t=e.substring(a,a+8).padEnd(8,"0"),n+=String.fromCharCode(parseInt(t,2));return n}(e);return btoa(n).replaceAll("/","_")},Be=function(e){var n=e.getCols(),t=e.getRows(),a=function(e){var n,t="",a=Object(Ce.a)(e);try{for(a.s();!(n=a.n()).done;){var r,c=n.value,o=Object(Ce.a)(c);try{for(o.s();!(r=o.n()).done;)t+=r.value.alive?"1":"0"}catch(i){o.e(i)}finally{o.f()}}}catch(i){a.e(i)}finally{a.f()}return t}(e.board_content),r=Se(a),c=window.location;return c.host+c.pathname+"#/shared/"+(e.name?"".concat(e.name,"/"):"")+"".concat(t,"x").concat(n,"/").concat(function(e){for(var n="",t="",a=!1,r=0;r<e.length;r++)if([t=e[r],r<e.length-1?e[r+1]:""].every((function(e){return"A"===e}))){var c=0;for(a=!0;a&&r<e.length;)c++,a=e[++r]===t;n+="&".concat(c,";"),r--}else n+=t;return n}(r))},Ne=function(e,n,t){var a=function(e){return function(e){for(var n="",t=0;t<e.length;t++)n+=e[t].charCodeAt(0).toString(2).padStart(8,"0");return n}(atob(e.replaceAll("_","/")))}(function(e){for(var n="",t=0;t<e.length;t++)if("&"!==e[t])n+=e[t];else{var a=e.indexOf(";",t),r=parseInt(e.substring(t+1,a));t=a,n+="A".repeat(r)}return n}(t)),r=ge(e,n,!1,a);return{name:"Shared board",created:new Date,edited:new Date,board_content:r,rows:r.length,cols:r[0].length}},De=t(33),_e=t.n(De),Ie=t(41),Fe=function(){for(var e=[],n=0,t=Object.keys(window.localStorage);n<t.length;n++){var a=t[n];a.startsWith("saved/")&&e.push(a.replace("saved/",""))}return e},Te=$((function(){var e=Object(A.useState)([]),n=Object(W.a)(e,2),t=n[0],a=n[1],r=Object(ke.f)(),c=function(e){e.length?r.push("/"+Oe(e)):fe.show({message:"Invalid board name",intent:"danger"})},o=function(){var e=Object(Ie.a)(_e.a.mark((function e(){var n,t,r,c,o,i;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fe(),t=[],r=Object(Ce.a)(n),e.prev=3,r.s();case 5:if((c=r.n()).done){e.next=13;break}return o=c.value,e.next=9,pe(o);case 9:(i=e.sent)&&t.push(i);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:console.log("Saved boards: "),console.table(t),a(t);case 24:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),i=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];window.localStorage.removeItem(Oe(e)),o(),n&&fe.show({message:'Deleted board: "'.concat(e,'"'),intent:"danger"})};return Object(A.useEffect)((function(){o()}),[]),{boards:t,goToSaved:c,deleteBoard:i,saveBoard:function(e){Le(e),o(),fe.show({message:'Saved board: "'.concat(e.name,'"'),intent:"success"}),c(e.name)},renameBoard:function(e,n){var a=t.find((function(n){return n.name===e}));a&&(a.name=n,Le(a),i(e,!1),c(n),fe.show({message:'Renamed board: "'.concat(e,'" -> "').concat(n,'"'),intent:"danger"}))}}})),Ee=Object(W.a)(Te,2),Pe=Ee[0],Ae=Ee[1],Le=function(e){var n=Oe(e.name);window.localStorage.hasOwnProperty(n)&&(e.edited=new Date);var t=JSON.stringify(e);window.localStorage.setItem(n,t)},Re={name:"undefined",created:new Date,edited:new Date,board_content:[[],[]],rows:0,cols:0},He=Object(A.createContext)((function(e,n){console.log("Not yet configured")})),ze=$((function(){var e=Object(A.useState)(40),n=Object(W.a)(e,2),t=n[0],a=n[1],r=Object(A.useState)(30),c=Object(W.a)(r,2),o=c[0],i=c[1],l=Object(A.useState)(Re.board_content),s=Object(W.a)(l,2),d=s[0],b=s[1],u=Object(A.useState)(Re.board_content),h=Object(W.a)(u,2),j=h[0],g=h[1],m=Object(A.useState)(10),O=Object(W.a)(m,2),p=O[0],f=O[1],x=Object(A.useState)(!1),v=Object(W.a)(x,2),w=v[0],y=v[1],k=Object(A.useState)(0),C=Object(W.a)(k,2),S=C[0],B=C[1],N=Object(Y.a)("highlightNew",!1),D=Object(W.a)(N,2),_=D[0],I=D[1],F=Object(A.useState)(""),T=Object(W.a)(F,2),E=T[0],P=T[1],L=Object(A.useState)(),R=Object(W.a)(L,2),H=R[0],z=R[1],K=Object(ke.f)(),G=function(){Array.isArray(d)&&(b(function(e){var n,t,a,r,c=he(e),o=e.length,i=e[0].length;for(n=0;n<o;n++)for(t=0;t<i;t++)a=ue(e,n,t),(r=c[n][t]).alive=a,a?r.age+=1:r.age=0;return c}(d)),B((function(e){return e+1})))},q=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b(me(e,n,t,a)),B(0)};return Object(A.useEffect)((function(){var e;H?(b(H.board_content),P(H.name),e=H.board_content):(console.log("Initialize heart board"),q(o,t,!1,!0),e=me(o,t,!1,!0)),g(e)}),[o,t,H]),Object(be.a)((function(){G()}),w?1e3/p:null),{colCount:t,setColCount:a,rowCount:o,setRowCount:i,content:d,setContent:b,resetCheckpoint:j,setResetCheckpoint:g,speed:p,setSpeed:f,isPlaying:w,setIsPlaying:y,iterationCount:S,setIterationCount:B,highlightNew:!!_,setHighlightNew:I,name:E,setName:function(e){P(e.substring(0,15))},toggleState:function(e,n){if(Array.isArray(d)){console.log("Toggling cell: [".concat(n,"][").concat(e,"]"));var t=he(d);t[n][e].alive=!t[n][e].alive,b(t)}},iterateOnce:G,resetBoard:function(){b(j),B(0),xe("Reset board","primary")},randomizeBoard:function(){q(o,t,!0,!1),xe("Randomized cells","primary")},clearBoard:function(){q(o,t,!1,!1),xe("Cleared board","primary")},togglePlaying:function(){y((function(e){return!e}))},toggleHighlightNew:function(){I(!_)},handleSave:function(){E.length?(console.log("Saving... ".concat(E)),Le(new ye(null,d,E)),K.push("/"+Oe(E)),xe("Saved board: ".concat(E),"success")):alert("Invalid name")},getShareableLink:function(e){var n=Be(new ye(null,null!==e&&void 0!==e?e:d,E));navigator.clipboard.writeText(n),xe("Link copied to clipboard.","primary")},initializeBoard:q,loadedBoard:H,setLoadedBoard:z}})),Ke=Object(W.a)(ze,2),Ge=Ke[0],qe=Ke[1],Je=G.b.span(l||(l=Object(K.a)(["\n    color: ",";\n"])),Q.header),Me=Object(G.b)(q.k)(s||(s=Object(K.a)(["\n    font-size: .9em !important;\n\n    a &:not(:hover) {\n        color: inherit;\n    }\n"]))),Ve=G.b.footer(d||(d=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-self: end;\n    margin-top: 8px;\n    width: 100%;\n    background-color: ",";\n"])),(function(e){return e.theme.sidebar+"33"})),Ue=function(){var e=qe().iterationCount;return Object(Z.jsxs)(Ve,{children:[Object(Z.jsxs)(q.j,{children:["Iteration count: ",Object(Z.jsx)(Je,{children:e})]}),Object(Z.jsxs)(Me,{className:"bp3-text-muted",children:["Made with \ud83d\udc96 by\xa0",Object(Z.jsx)("a",{href:"https://github.com/diegoasanch",target:"_blank",rel:"noopener noreferrer",children:"Diego."})]})]})},We=Object(G.b)(q.f)(b||(b=Object(K.a)(["\n    width: 100%;\n"]))),Ye=function(e){var n=e.value,t=e.maxValue,a=e.placeholder,r=e.handleInput;return Object(Z.jsx)(q.r,{allowNumericCharactersOnly:!1,min:0,max:t,onValueChange:r,placeholder:a,value:n,fill:!0})},Qe=function(e){var n=e.value,t=e.setValue;return Object(Z.jsx)(q.v,{value:n,onChange:t,max:30,labelStepSize:4,min:1})},Xe=G.b.div(u||(u=Object(K.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-items: center;\n    align-items: center;\n\n    > * {\n        padding: 0 5%;\n    }\n"]))),Ze=Object(G.b)(q.d)(h||(h=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    padding: 5px;\n\n    > * {\n        margin: .5em 0;\n    }\n"]))),$e=function(){var e=qe(),n=e.rowCount,t=e.colCount,a=e.setRowCount,r=e.setColCount,c=e.iterateOnce,o=e.speed,i=e.setSpeed,l=e.isPlaying,s=e.togglePlaying,d=e.resetBoard,b=e.randomizeBoard,u=e.clearBoard,h=e.highlightNew,j=e.toggleHighlightNew;return Object(Z.jsxs)(Ze,{children:[Object(Z.jsx)(q.x,{alignIndicator:M.a.RIGHT,checked:h,onChange:j,label:"Highlight new cells"}),Object(Z.jsxs)(Xe,{children:[Object(Z.jsxs)(q.n,{children:["Rows",Object(Z.jsx)(Ye,{value:n,maxValue:250,placeholder:"Row count",handleInput:function(e,n,t){a(e)}})]}),Object(Z.jsxs)(q.n,{children:["Columns",Object(Z.jsx)(Ye,{value:t,maxValue:250,placeholder:"Column count",handleInput:function(e,n,t){r(e)}})]})]}),Object(Z.jsxs)(q.n,{children:["Iteration Speed",Object(Z.jsx)("span",{className:"bp3-text-muted",children:" (Hz)"}),Object(Z.jsx)(Qe,{value:o,setValue:function(e){i(e)}})]}),Object(Z.jsxs)(q.b,{large:!0,children:[Object(Z.jsx)(U.a,{content:"".concat(l?"Stop":"Start"," iterating"),position:J.a.TOP,children:Object(Z.jsx)(q.a,{text:l?"Pause":"Play",icon:l?"pause":"play",intent:"primary",onClick:s})}),Object(Z.jsx)(U.a,{content:"Step-by-step",position:J.a.TOP,children:Object(Z.jsx)(q.a,{rightIcon:"step-forward",onClick:function(e){c()},disabled:l})})]}),Object(Z.jsxs)(q.b,{children:[Object(Z.jsx)(U.a,{content:"Reset board",intent:"danger",position:J.a.TOP,children:Object(Z.jsx)(q.a,{onClick:d,icon:"reset",intent:"danger"})}),Object(Z.jsx)(U.a,{content:"Clear board",position:J.a.TOP,children:Object(Z.jsx)(q.a,{onClick:u,icon:"eraser"})}),Object(Z.jsx)(U.a,{content:"Randomize cells",position:J.a.TOP,children:Object(Z.jsx)(q.a,{text:"Random",onClick:b,icon:"random"})})]})]})},en=G.b.div(j||(j=Object(K.a)(["\n    display: flex;\n    align-items: center;\n    height: 3em;\n    cursor: pointer;\n"]))),nn=Object(G.b)(q.e)(g||(g=Object(K.a)(["\n    padding-left: .5em;\n"]))),tn=G.b.section(m||(m=Object(K.a)(["\n    width: 100%;\n"]))),an=function(e){var n=e.name,t=e.startOpen,a=e.Component,r=Object(A.useState)(t),c=Object(W.a)(r,2),o=c[0],i=c[1];return Object(Z.jsxs)(tn,{children:[Object(Z.jsx)(en,{onClick:function(){i((function(e){return!e}))},children:Object(Z.jsxs)("h3",{children:[Object(Z.jsx)(q.l,{icon:o?"chevron-down":"chevron-right"}),Object(Z.jsx)("code",{children:n})]})}),Object(Z.jsx)(nn,{isOpen:o,children:a})]})},rn="5px",cn=G.b.div(O||(O=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n\n    > * {\n        margin: .5em 0;\n    }\n"]))),on=t(189),ln=Object(G.b)(q.d)(p||(p=Object(K.a)(["\n    width: 100%;\n    padding: .5em;\n    padding-left: .8em;\n    margin: .3em 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    border: ",";\n\n    .bp3-button-group {\n        opacity: .4;\n    }\n\n    .editIcon {\n        opacity: 0;\n        margin-left: .5em;\n    }\n\n    &:hover .bp3-button-group {\n        opacity: 1;\n    }\n    &:hover .editIcon {\n        opacity: 1;\n    }\n"])),(function(e){var n=e.isActive,t=e.theme;return n?"1.5px solid "+t.cellHover:""})),sn=G.b.div(f||(f=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n\n    h6 {\n        margin: .2em 0;\n    }\n    small {\n        color: ",";\n        font-size: .8em;\n    }\n"])),(function(e){return e.theme})),dn=G.b.div(x||(x=Object(K.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: baseline;\n"]))),bn=Object(G.b)(dn)(v||(v=Object(K.a)(["\n    width: 90%;\n    max-width: 16ch;\n    justify-content: space-between;\n"]))),un=Object(G.b)(q.g)(w||(w=Object(K.a)(["\n    width: ",";\n"])),(function(e){var n,t;return Math.max(null!==(n=null===(t=e.value)||void 0===t?void 0:t.length)&&void 0!==n?n:0,5)+"ch"})),hn=function(e){var n,t=e.name,a=e.cols,r=e.rows,c=e.board_content,o=e.edited,i=e.isActive,l=Ae(),s=l.goToSaved,d=l.deleteBoard,b=l.renameBoard,u=qe().getShareableLink,h=Object(A.useState)(t),j=Object(W.a)(h,2),g=j[0],m=j[1];return Object(on.a)((function(){g!==t&&b(t,g)}),500,[g,b]),Object(Z.jsxs)(ln,{interactive:!0,isActive:i,children:[Object(Z.jsxs)(sn,{children:[Object(Z.jsxs)(dn,{children:[Object(Z.jsx)(un,{value:g,onChange:function(e){m(e)},maxLength:15,placeholder:"name",selectAllOnFocus:!0}),Object(Z.jsx)(q.l,{icon:"edit",intent:"primary",className:"editIcon",iconSize:13})]}),Object(Z.jsxs)(bn,{children:[Object(Z.jsxs)("small",{className:"bp3-text-muted",children:[r," x ",a]}),Object(Z.jsx)("small",{className:"bp3-text-muted",children:(n=o,"string"===typeof n&&(n=new Date(n)),n.getDate()+"/"+n.getMonth()+"/"+n.getFullYear())})]})]}),Object(Z.jsxs)(q.b,{minimal:!0,children:[Object(Z.jsx)(U.a,{content:"Open",position:J.a.TOP,minimal:!0,children:Object(Z.jsx)(q.a,{icon:"document-open",onClick:function(){s(t)}})}),Object(Z.jsx)(U.a,{content:"Share",position:J.a.TOP,minimal:!0,children:Object(Z.jsx)(q.a,{icon:"link",onClick:function(){u(c)}})}),Object(Z.jsx)(U.a,{content:"Delete",position:J.a.TOP,minimal:!0,intent:"danger",children:Object(Z.jsx)(q.a,{icon:"trash",intent:"danger",onClick:function(){d(t)}})})]})]})},jn=Object(G.b)(cn)(y||(y=Object(K.a)(["\n    align-items: flex-start;\n"]))),gn=function(){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(jn,{children:Object(Z.jsx)(pn,{})})})},mn=Object(G.b)(q.h)(k||(k=Object(K.a)(["\n    padding: 0 0 5px 5px;\n    width: calc(100% - 10px);\n    margin: 0;\n    margin-bottom: 1em;\n\n    .save-btn {\n        margin-top: 5px;\n    }\n"]))),On=Object(G.b)(q.d)(C||(C=Object(K.a)(["\n    padding: 7px;\n    width: 100%;\n\n    .bp3-form-group {\n        margin: 0;\n    }\n"]))),pn=function(){var e=Ae(),n=e.boards,t=e.saveBoard,a=qe(),r=a.name,c=a.content,o=a.setName,i=function(){t(new ye(null,c,r))};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(On,{children:Object(Z.jsxs)(mn,{label:"Save current board",labelFor:"name-input",labelInfo:Object(Z.jsxs)(Z.Fragment,{children:["(",Object(Z.jsx)(q.l,{icon:"key-shift"}),"S)"]}),children:[Object(Z.jsx)("form",{onSubmit:function(e){e.preventDefault(),i()},children:Object(Z.jsx)(q.m,{onChange:function(e){o(e.target.value)},value:r,placeholder:"untitled_board",id:"name-input"})}),Object(Z.jsx)(q.a,{className:"save-btn",text:"Save",icon:"floppy-disk",onClick:i,fill:!0})]})}),Object(Z.jsx)(an,{name:"Saved Boards",startOpen:!0,Component:Object(Z.jsxs)(Z.Fragment,{children:[n.length>0&&n.map((function(e){return Object(Z.jsx)(hn,Object(z.a)({isActive:e.name===r},e),"saved_board_"+e.name)})),!n.length&&Object(Z.jsxs)(q.c,{intent:"primary",children:[Object(Z.jsx)(q.j,{children:"No saved boards..."}),"Save a board and it will apear here."]})]})})]})},fn=G.b.div(S||(S=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    padding-right: 2px;\n\n    border: 1px solid ",";\n    /* border-radius: ","; */\n\n    &:hover {\n        border: 1px solid ",";\n    }\n\n    &::-webkit-scrollbar {\n        background-color: ",";\n        width: 7px;\n        border-radius: ",";\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: ",";\n    }\n    &:hover::-webkit-scrollbar {\n        background-color: ",";\n    }\n    &:hover::-webkit-scrollbar-thumb {\n        background-color: ",";\n    }\n"])),(function(e){return e.theme.sidebar}),rn,(function(e){return e.theme.cellHover+e.theme.highlightTransparency}),(function(e){return e.theme.sidebar}),rn,(function(e){return e.theme.scrollBarBg}),rn,(function(e){return e.theme.scrollBarBg}),(function(e){return e.theme.scrollBarThumb})),xn=[{name:"Settings",startOpen:!0,Component:Object(Z.jsx)($e,{})},{name:"Boards",startOpen:!0,Component:Object(Z.jsx)(gn,{})}],vn=function(){return Object(Z.jsx)(fn,{children:xn.map((function(e){return Object(Z.jsx)(an,Object(z.a)({},e))}))})},wn=G.b.div(B||(B=Object(K.a)(["\n    position: relative;\n    height: 100vh;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    padding: 8px;\n    align-items: center;\n    justify-content: space-around;\n"])),(function(e){return e.theme.sidebar})),yn=function(){return Object(Z.jsxs)(wn,{children:[Object(Z.jsx)(le,{}),Object(Z.jsx)(We,{}),Object(Z.jsx)(vn,{}),Object(Z.jsx)(We,{}),Object(Z.jsx)(Ue,{})]})},kn=G.b.div(N||(N=Object(K.a)(["\n    height: 20px;\n    width: 20px;\n    background-color: ",";\n    border: solid 1px ",";\n    cursor: pointer;\n\n    &:hover {\n        border: solid 3px ",";\n    }\n"])),(function(e){return e.background}),(function(e){return e.theme.cellBorder}),(function(e){return e.hoverBorder})),Cn=function(e){var n=e.cellData,t=e.highlightNew,a=Object(A.useContext)(He),r=ae().theme,c=Object(A.useState)({background:r.cellDead,hoverBorder:r.cellHover}),o=Object(W.a)(c,2),i=o[0],l=o[1];return Object(A.useEffect)((function(){var e={background:r.cellDead,hoverBorder:r.cellHover};n.alive&&(1===n.age&&t?(e.background=r.header,e.hoverBorder=r.sidebar):e.background=r.cellAlive),l(e)}),[n,t,r]),Object(Z.jsx)(kn,Object(z.a)(Object(z.a)({},i),{},{onClick:function(){a(n.column,n.row)}}))},Sn=G.b.div(D||(D=Object(K.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow: scroll;\n    height: 100%;\n    width: 100%;\n    /* width: max-content; */\n    justify-content: center;\n\n    padding: 2em 1em 1em;\n\n    &::-webkit-scrollbar {\n        background-color: ",";\n        width: 10px;\n        height: 10px;\n        border-radius: ",";\n    }\n    &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: ",";\n    }\n    &:hover::-webkit-scrollbar {\n        background-color: ",";\n        width: 10px;\n        height: 10px;\n    }\n    &:hover::-webkit-scrollbar-thumb {\n        background-color: ",";\n    }\n"])),(function(e){return e.theme.backgroundColor}),rn,(function(e){return e.theme.scrollBarBg}),rn,(function(e){return e.theme.scrollBarBg}),(function(e){return e.theme.scrollBarThumbHover})),Bn=G.b.div(_||(_=Object(K.a)(["\n    display: flex;\n    flex-direction: row;\n    margin: 0;\n"]))),Nn=function(e){var n=e.isLoading,t=qe(),a=t.content,r=t.highlightNew;return Object(Z.jsxs)(Sn,{children:[n&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(q.i,{children:"Loading..."}),Object(Z.jsx)("br",{}),Object(Z.jsx)(q.w,{size:80,intent:"primary"})]}),!n&&(null===a||void 0===a?void 0:a.length)&&a[0].length?a.map((function(e,n){return Object(Z.jsx)(Bn,{children:e.map((function(e){return Object(Z.jsx)(Cn,{cellData:e,highlightNew:r},"cell_".concat(e.row,"_").concat(e.column))}))},"row_".concat(n))})):Object(Z.jsx)(q.i,{children:"Not enough cells to display \ud83d\ude22"})]})},Dn=t(185),_n=Object(G.b)(q.h)(I||(I=Object(K.a)(["\n    padding: 0 0 5px 5px;\n    width: calc(100% - 10px);\n    margin: 0;\n\n    .save-btn {\n        margin-top: 5px;\n    }\n"]))),In=function(){var e=qe(),n=e.iterateOnce,t=e.isPlaying,a=e.togglePlaying,r=e.resetBoard,c=e.randomizeBoard,o=e.clearBoard,i=e.name,l=e.content,s=e.setName,d=e.getShareableLink,b=Ae().saveBoard;return Object(Z.jsxs)(q.o,{children:[Object(Z.jsx)(q.q,{text:t?"Pause":"Play",icon:t?"pause":"play",onClick:a,intent:"primary",labelElement:Object(Z.jsx)("span",{className:"bp3-text-muted",children:"P"})}),Object(Z.jsx)(q.q,{text:"Iterate once",icon:"step-forward",onClick:n,disabled:t,labelElement:Object(Z.jsx)("span",{className:"bp3-text-muted",children:Object(Z.jsx)(q.l,{icon:"arrow-right"})})}),Object(Z.jsx)(q.p,{}),Object(Z.jsxs)(_n,{label:"Save board",labelFor:"name-input",labelInfo:Object(Z.jsxs)(Z.Fragment,{children:["(",Object(Z.jsx)(q.l,{icon:"key-shift"}),"S)"]}),children:[Object(Z.jsx)(q.m,{onChange:function(e){s(e.target.value)},value:i,placeholder:"untitled_board",id:"name-input",autoFocus:!0}),Object(Z.jsx)(q.a,{className:"save-btn",text:"Save",icon:"floppy-disk",onClick:function(){b(new ye(null,l,i))},fill:!0})]}),Object(Z.jsx)(q.q,{text:"Share",icon:"share",onClick:function(){d()},labelElement:Object(Z.jsxs)("span",{className:"bp3-text-muted",children:[Object(Z.jsx)(q.l,{icon:"key-shift"}),"D"]})}),Object(Z.jsx)(q.p,{}),Object(Z.jsx)(q.q,{text:"Randomize cells",icon:"random",onClick:c,labelElement:Object(Z.jsxs)("span",{className:"bp3-text-muted",children:[Object(Z.jsx)(q.l,{icon:"key-shift"}),"N"]})}),Object(Z.jsx)(q.q,{text:"Clear",icon:"eraser",onClick:o,labelElement:Object(Z.jsxs)("span",{className:"bp3-text-muted",children:[Object(Z.jsx)(q.l,{icon:"key-shift"}),"C"]})}),Object(Z.jsx)(q.q,{text:"Reset",icon:"reset",onClick:r,intent:"danger",labelElement:Object(Z.jsxs)("span",{className:"bp3-text-muted",children:[Object(Z.jsx)(q.l,{icon:"key-shift"}),"R"]})}),Object(Z.jsx)(q.p,{}),Object(Z.jsx)(q.q,{text:"View on GitHub",icon:"code",labelElement:Object(Z.jsx)(q.l,{icon:"arrow-top-right"}),href:"https://github.com/diegoasanch/Game-of-life",target:"_blank"})]})},Fn=t(186),Tn=G.b.div(F||(F=Object(K.a)(["\n    width: 100%;\n    height: 100%;\n    background-color: ",";\n    color: ",";\n    display: flex;\n    flex-direction: row;\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.text})),En=G.b.div(T||(T=Object(K.a)(["\n    width: 22vw;\n    max-width: 330px;\n    min-width: 260px;\n"]))),Pn=G.b.div(E||(E=Object(K.a)(["\n    /* width: calc(100% - 20vw); */\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: calc(100% - 2px);\n    flex: 1 1;\n    border: 1px solid ",";\n\n    &:hover {\n        border: 1px solid ",";\n    }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.cellHover+e.theme.highlightTransparency})),An=Object(G.b)(Dn.a)(P||(P=Object(K.a)(["\n    height: 100vh;\n    width: 100vw;\n"]))),Ln=function(e){var n=e.loadedBoard,t=e.isLoading,a=qe(),r=a.toggleState,c=a.setLoadedBoard;Object(A.useEffect)((function(){c(n)}),[n,c]);var o=function(){var e=qe(),n=e.togglePlaying,t=e.iterateOnce,a=e.randomizeBoard,r=e.clearBoard,c=e.resetBoard,o=e.toggleHighlightNew,i=e.getShareableLink,l=e.content,s=e.name,d=e.highlightNew,b=Ae().saveBoard,u=ae().toggleTheme,h=Object(A.useCallback)((function(){b(new ye(null,l,s))}),[b,l,s]);return{hotkeysConfig:Object(A.useMemo)((function(){return[{combo:"p",global:!0,label:"Play",onKeyDown:n},{combo:"right",global:!0,label:"Iterate once",onKeyDown:t},{combo:"shift + n",global:!0,label:"Randomize cells",onKeyDown:a},{combo:"shift + c",global:!0,label:"Clear board",onKeyDown:r},{combo:"shift + r",global:!0,label:"Reset Board",onKeyDown:c},{combo:"shift + l",global:!0,label:"Toggle theme",onKeyDown:u},{combo:"shift + h",global:!0,label:"Toggle theme",onKeyDown:o},{combo:"shift + s",global:!0,label:"Save board",onKeyDown:h},{combo:"shift + d",global:!0,label:"Share board",onKeyDown:i}]}),[n,t,a,r,c,o,h,i,d,u])}}().hotkeysConfig,i=Object(Fn.a)(o),l=i.handleKeyDown,s=i.handleKeyUp;return Object(Z.jsx)("div",{onKeyDown:l,onKeyUp:s,children:Object(Z.jsx)(He.Provider,{value:r,children:Object(Z.jsx)(An,{content:Object(Z.jsx)(In,{}),children:Object(Z.jsxs)(Tn,{children:[Object(Z.jsx)(En,{children:Object(Z.jsx)(yn,{})}),Object(Z.jsx)(Pn,{children:Object(Z.jsx)(Nn,{isLoading:!!t})})]})})})})},Rn=t(190),Hn=t(175);var zn=function(){var e=Object(ke.g)().name,n=Object(A.useState)(Re),t=Object(W.a)(n,2),a=t[0],r=t[1],c=Object(A.useState)(!0),o=Object(W.a)(c,2),i=o[0],l=o[1];return Object(A.useEffect)((function(){var n=function(){var n=Object(Ie.a)(_e.a.mark((function n(){var t;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,pe(e);case 3:(t=n.sent)?(r(t),fe.show({message:'Loaded board "'.concat(e,'"'),intent:"primary"})):(r(Re),fe.show({message:"Couldn't load board \"".concat(e,'"'),intent:"danger"})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),fe.show({message:"Error loading the board.",intent:"danger"});case 10:return n.prev=10,l(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();l(!0),n()}),[e]),Object(Z.jsx)(Ln,{loadedBoard:a,isLoading:i})};var Kn,Gn=function(){var e=Object(ke.g)(),n=e.name,t=e.dimensions,a=e.content,r=Object(A.useState)(Re),c=Object(W.a)(r,2),o=c[0],i=c[1],l=Object(A.useState)(!0),s=Object(W.a)(l,2),d=s[0],b=s[1],u=function(e,t,a){return new Promise((function(r,c){var o;try{if(e&&t&&a)return o=Ne(e,t,a),xe("Loaded ".concat(e," x ").concat(t," board")+(n?": ".concat(n):""),"primary"),i(Object(z.a)(Object(z.a)({},o),{},{name:null!==n&&void 0!==n?n:"untitled_board"})),r();throw new Error("invalid board")}catch(l){return c()}}))};return Object(A.useEffect)((function(){var e=0,r=0;if(t.includes("x")){var c=t.split("x"),o=Object(W.a)(c,2),l=o[0],s=o[1];e=parseInt(l)||0,r=parseInt(s)||0}else if(t.length&&!isNaN(parseInt(t))){var d=parseInt(t);e=d,r=d}console.log({dimensions:t,parsed_rows:e,parsed_cols:r,content:a,name:n}),function(){var n=Object(Ie.a)(_e.a.mark((function n(){return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.prev=1,n.next=4,u(e,r,a);case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),i(Re),console.error("Invalid board"),xe("Invalid board","danger");case 10:return n.prev=10,b(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,6,10,13]])})));return function(){return n.apply(this,arguments)}}()()}),[t,a,n]),Object(Z.jsx)(Ln,{loadedBoard:o,isLoading:d})},qn=t(39);Rn.a.onlyShowFocusOnTabs();var Jn=G.b.div(Kn||(Kn=Object(K.a)(["\n  height: 100vh;\n  width: 100vw;\n"])));var Mn=function(){return Object(Z.jsx)(Hn.b,{children:Object(Z.jsx)(te,{children:Object(Z.jsx)(Vn,{children:Object(Z.jsx)(qn.a,{basename:"/",children:Object(Z.jsx)(Un,{children:Object(Z.jsxs)(ke.c,{children:[Object(Z.jsx)(ke.a,{exact:!0,path:"/saved/:name",children:Object(Z.jsx)(zn,{})}),Object(Z.jsx)(ke.a,{exact:!0,path:"/shared/:dimensions/:content",children:Object(Z.jsx)(Gn,{})}),Object(Z.jsx)(ke.a,{exact:!0,path:"/shared/:name/:dimensions/:content",children:Object(Z.jsx)(Gn,{})}),Object(Z.jsx)(ke.a,{path:"/",exact:!0,children:Object(Z.jsx)(Ln,{})})]})})})})})})},Vn=function(e){var n=e.children,t=ae(),a=t.theme,r=t.isDark,c=t.toggleTheme;return Object(Z.jsx)(G.a,{theme:Object(z.a)(Object(z.a)({},a),{},{isDark:r,toggleTheme:c}),children:n})},Un=function(e){var n=e.children,t=ae().isDark;return Object(Z.jsx)(Ge,{children:Object(Z.jsx)(Pe,{children:Object(Z.jsx)(Jn,{className:".bp3-ui-text ".concat(t?"bp3-dark":""),children:n})})})},Wn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,191)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))};H.a.render(Object(Z.jsx)(L.a.StrictMode,{children:Object(Z.jsx)(Mn,{})}),document.getElementById("root")),Wn()},88:function(e){e.exports=JSON.parse('{"name":"game_of_life","version":"0.4.0","private":true,"homepage":"http://diegoasanch.github.io/Game-of-life","dependencies":{"@blueprintjs/core":"^3.42.0","@blueprintjs/popover2":"^0.4.0","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.24","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@types/react-router-dom":"^5.1.7","@types/styled-components":"^5.1.9","add":"^2.0.6","gh-pages":"^3.1.0","react":"^17.0.2","react-dom":"^17.0.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-use":"^17.2.1","styled-components":"^5.2.3","typescript":"^4.1.2","web-vitals":"^1.0.1","yarn":"^1.22.10"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"yarn build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/preset-typescript":"^7.14.5"}}')}},[[174,1,2]]]);
//# sourceMappingURL=main.42d6fb4a.chunk.js.map